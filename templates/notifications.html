{% extends "base.html" %}

{% block content %}
<!-- Notification Page Header -->
<section class="notification-page-header">
    <div class="notification-hero">
        <div class="hero-icon">üì¢</div>
        <h1>‡§∏‡•Ç‡§ö‡§®‡§æ ‡§™‡§ü‡•ç‡§ü</h1>
        <p class="notification-subtitle">‡§Æ‡§π‡§æ‡§µ‡§ø‡§¶‡•ç‡§Ø‡§æ‡§≤‡§Ø ‡§ï‡•Ä ‡§∏‡§≠‡•Ä ‡§Æ‡§π‡§§‡•ç‡§µ‡§™‡•Ç‡§∞‡•ç‡§£ ‡§∏‡•Ç‡§ö‡§®‡§æ‡§è‡§Ç</p>
    </div>
</section>

<!-- Notifications List Section -->
<section class="notifications-list-section">
    <div class="notifications-container">
        {% if notifications %}
            <div class="notifications-grid">
                {% for notification in notifications %}
                    <div class="notification-card">
                        <div class="notification-card-header">
                            <div class="notification-icon">
                                {% if notification.photo and notification.photo.endswith('.pdf') %}
                                    üìÑ
                                {% else %}
                                    üìå
                                {% endif %}
                            </div>
                            {% if notification.created_at %}
                                {% set notification_date = notification.created_at.strftime('%Y-%m-%d') %}
                                {% if notification_date == today_date or notification_date >= two_days_ago %}
                                    <span class="notification-new-badge">New</span>
                                {% endif %}
                            {% endif %}
                        </div>
                        <div class="notification-card-body">
                            <p class="notification-message">{{ notification.message }}</p>
                            {% if notification.created_at %}
                                <p class="notification-date">
                                    <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                        <circle cx="12" cy="12" r="10"></circle>
                                        <polyline points="12 6 12 12 16 14"></polyline>
                                    </svg>
                                    {{ notification.created_at.strftime('%d %B %Y') }}
                                </p>
                            {% endif %}
                        </div>
                        {% if notification.photo %}
                            <div class="notification-card-footer">
                                <a href="{{ url_for('static', filename=notification.photo) }}" target="_blank" class="notification-link">
                                    {% if notification.photo.endswith('.pdf') %}
                                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                            <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path>
                                            <polyline points="14 2 14 8 20 8"></polyline>
                                        </svg>
                                        PDF ‡§¶‡•á‡§ñ‡•á‡§Ç
                                    {% else %}
                                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                            <rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect>
                                            <circle cx="8.5" cy="8.5" r="1.5"></circle>
                                            <polyline points="21 15 16 10 5 21"></polyline>
                                        </svg>
                                        ‡§´‡§æ‡§á‡§≤ ‡§¶‡•á‡§ñ‡•á‡§Ç
                                    {% endif %}
                                </a>
                            </div>
                        {% endif %}
                    </div>
                {% endfor %}
            </div>
        {% else %}
            <div class="empty-state-notification">
                <svg width="80" height="80" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1">
                    <path d="M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"></path>
                    <path d="M13.73 21a2 2 0 0 1-3.46 0"></path>
                </svg>
                <h3>‡§ï‡•ã‡§à ‡§∏‡•Ç‡§ö‡§®‡§æ ‡§â‡§™‡§≤‡§¨‡•ç‡§ß ‡§®‡§π‡•Ä‡§Ç</h3>
                <p>‡§´‡§ø‡§≤‡§π‡§æ‡§≤ ‡§ï‡•ã‡§à ‡§®‡§à ‡§∏‡•Ç‡§ö‡§®‡§æ ‡§®‡§π‡•Ä‡§Ç ‡§π‡•à‡•§ ‡§ï‡•É‡§™‡§Ø‡§æ ‡§¨‡§æ‡§¶ ‡§Æ‡•á‡§Ç ‡§¶‡•á‡§ñ‡•á‡§Ç‡•§</p>
            </div>
        {% endif %}
    </div>
</section>

{% endblock %}
